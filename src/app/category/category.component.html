<main class="container">

  <categories-menu />

  <h2 class="category-name">
    {{category()?.name }}
  </h2>

  <div class="products">
    @if (busy()) {
    @for (item of [1,1,1,1,1,1,1,1]; track $index) {
    <category-skeleton />
    }
    }@else {
    @for (product of products(); track product.id) {
    <app-product-card
      [product]="product" />
    }
    }
  </div>
  @if (page <= lastPage && products().length > 0) {
  <button
    role="button"
    (click)="getProductsByCategory(id(),false)"
    class="load-more">
    @if (busy()) {
    <ion-spinner name="crescent" />
    }@else {
    Ver m√°s
    }
  </button>
  }

  <menu-chat-button
    (click)="aiService.onOpenChat($event)" />
</main>