<title-mobile (onBack)="onBack()" />

<section class="shadow-2xl form">
   <h2 class="form__title">
      Registrate
   </h2>

   <p class="text__extra">
      ¿Ya tienes cuenta?
      <span (click)="onAuth()">
         Inicia Sesión
      </span>
   </p>

   <div class="inputs_form">
      <div class="form-input">
         <span>Nombres completos</span>
         <input
            (isValid)="validFields.fullName = $event"
            [(ngModel)]="fullName"
            inputType="text"
            inputValidator
            placeholder="Nombres"
            type="text">
      </div>

      <div class="form-input">
         <span>Correo electrónico</span>
         <input
            (isValid)="validFields.email = $event"
            [(ngModel)]="email" type="email"
            inputType="email"
            inputValidator
            placeholder="Correo electrónico">
      </div>

      <div class="form-input password">
         <span>Contraseña</span>
         <input
            (isValid)="validFields.password = $event"
            [(ngModel)]="password"
            inputType="password"
            inputValidator
            placeholder="Contraseña"
            [type]="passwordType">
         <ion-icon
            class="icon"
            (click)="onTogglePasswordVisibility()"
            name="{{ passwordType === 'password' ? 'eye-off-outline' : 'eye-outline'}}" />
      </div>

      <div class="form-input password">
         <span>Confirmar Contraseña</span>
         <input
            (isValid)="validFields.passwordConfirm = $event"
            (keydown.enter)="onRegister()"
            [(ngModel)]="passwordConfirm"
            inputType="password"
            inputValidator
            placeholder="Confirmar Contraseña"
            [type]="passwordConfirmType">
         <ion-icon
            class="icon"
            (click)="onTogglePasswordConfirmVisibility()"
            name="{{ passwordConfirmType === 'password' ? 'eye-off-outline' : 'eye-outline'}}" />
      </div>
   </div>

   <p class="info">
      Al registrarse autoriza el tratamiento de sus
      <span>datos personales</span>
   </p>

   <lib-button
      (onAction)="onRegister()">
      @if (busy) {
      <ion-spinner name="crescent" />
      }@else {
      REGISTRARME
      }
   </lib-button>

</section>