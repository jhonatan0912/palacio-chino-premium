<section class="wrapper">
  <div class="title-close">
    <div class="title">
      Tu carrito
    </div>

    <div class="close-container" (click)="dismiss()">
      <ion-icon
        name="close-outline" />
    </div>
  </div>

  <div class="content">
    @for (product of products(); track product.id) {
    <shopping-cart-product
      [product]="product"
      [(quantity)]="product.quantity!" />
    }@empty {
    <div class="empty">
      <img src="/assets/empty-cart.png" alt="Empty cart">
      No hay productos en tu carrito
    </div>
    }

    @if (products().length >= 1) {
    <section class="footer">
      <div class="footer__total">
        <div class="total-title">
          Total
        </div>

        <div class="total-price">
          S/{{ total() | number: '1.2-2'}}
        </div>
      </div>

      <div class="footer__buttons">
        <lib-button (onAction)="onPay()">
          Pagar
        </lib-button>

        <lib-button type="outline" (onAction)="dismiss()">
          Seguir comprando
        </lib-button>
      </div>
    </section>
    }
  </div>
</section>